<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:AvaloniaModernApp.ViewModels"
             mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="600"
             x:Class="AvaloniaModernApp.Views.DashboardView"
             xmlns:ui="using:FluentAvalonia.UI.Controls"
             x:DataType="vm:DashboardViewModel">

    <ui:NavigationView x:Name="NavView"
                       AlwaysShowHeader="False" 
                       PaneDisplayMode="Left"
                       IsSettingsVisible="False"
                       IsBackEnabled="False">
        <ui:NavigationView.MenuItems>
            <ui:NavigationViewItem Content="Dashboard" Tag="Dashboard" IconSource="Home" />
            
            <ui:NavigationViewItem Content="Send SMS" Tag="SendSMS" IconSource="Message" />
            
            <ui:NavigationViewItem Content="Contacts" Tag="Contacts" IconSource="People" />
            
            <ui:NavigationViewItem Content="Reports" Tag="Reports" IconSource="Library" />
        </ui:NavigationView.MenuItems>

        <ui:NavigationView.FooterMenuItems>
             <ui:NavigationViewItem Content="Cerrar sesiÃ³n" Tag="Logout" SelectsOnInvoked="False" IconSource="Cancel" />
        </ui:NavigationView.FooterMenuItems>

        <ui:NavigationView.Content>
             <TransitioningContentControl Content="{Binding CurrentPage}" Margin="0,20,0,0">
                 <TransitioningContentControl.PageTransition>
                    <CrossFade Duration="0:0:0.25" />
                 </TransitioningContentControl.PageTransition>
             </TransitioningContentControl>
        </ui:NavigationView.Content>
    </ui:NavigationView>
    
    <UserControl.Styles>
        <!-- Nav Button Style -->
        <Style Selector="Button.navButton">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#a0a0a0"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.2"/>
                    <BrushTransition Property="Foreground" Duration="0:0:0.2"/>
                    <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.2" Easing="CubicEaseOut"/>
                </Transitions>
            </Setter>
        </Style>
        <Style Selector="Button.navButton:pointerover">
            <Setter Property="Background" Value="#15ffffff"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="RenderTransform" Value="translateX(4px)"/>
        </Style>
        <Style Selector="Button.navButton:pressed">
            <Setter Property="RenderTransform" Value="translateX(4px) scale(0.98)"/>
        </Style>
        
        <Style Selector="Button.navButton.selected">
            <Setter Property="Background" Value="#25ffffff"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderBrush" Value="#40ffffff"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        
        <Style Selector="Button.navButton.logout">
            <Setter Property="Foreground" Value="#ff8080"/>
        </Style>
        <Style Selector="Button.navButton.logout:pointerover">
             <Setter Property="Background" Value="#20ff4d4d"/>
             <Setter Property="Foreground" Value="#ff9999"/>
        </Style>
        
        <!-- Glass Card Style -->
        <Style Selector="Border.glassCard">
            <Setter Property="Background" Value="#10ffffff"/>
            <Setter Property="BorderBrush" Value="#20ffffff"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Transitions">
                 <Transitions>
                     <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.25" Easing="CircularEaseOut"/>
                     <BrushTransition Property="Background" Duration="0:0:0.25"/>
                     <BrushTransition Property="BorderBrush" Duration="0:0:0.25"/>
                 </Transitions>
            </Setter>
        </Style>
        <Style Selector="Border.glassCard:pointerover">
            <Setter Property="ZIndex" Value="10"/>
            <Setter Property="RenderTransform" Value="scale(1.03) translateY(-4px)"/>
            <Setter Property="Background" Value="#18ffffff"/>
            <Setter Property="BorderBrush" Value="#4000d4ff"/>
             <!-- Simulate Inner Glow with box shadow if possible, otherwise rely on border -->
        </Style>

        <!-- Icon Button -->
        <Style Selector="Button.iconButton">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="CornerRadius" Value="20"/>
        </Style>
        <Style Selector="Button.iconButton:pointerover">
             <Setter Property="Background" Value="#20ffffff"/>
        </Style>

    </UserControl.Styles>
</UserControl>
